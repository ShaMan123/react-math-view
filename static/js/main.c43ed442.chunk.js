(this["webpackJsonpreact-math-view-example"]=this["webpackJsonpreact-math-view-example"]||[]).push([[0],{10:function(e,n,t){},21:function(e,n,t){"use strict";t.r(n);t(10);var o=t(0),r=t.n(o),a=t(7),c=t.n(a),l=t(1),u=(t(15),t(20),t(8)),i=t.n(u),s=t(6);function d(){return(d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}var h=["onContentWillChange","onContentDidChange"],g=["backgroundColorMap","backgroundColorMap","createHTML","customVirtualKeyboardLayers","customVirtualKeyboards","defaultMode","fontsDirectory","horizontalSpacingScale","inlineShortcutTimeout","inlineShortcuts","keybindings","keypressSound","keypressVibration","letterShapeStyle","locale","macros","mathModeSpace","onBlur","onCommit","onContentDidChange","onContentWillChange","onError","onExport","onFocus","onKeystroke","onModeChange","onMoveOutOf","onPlaceholderDidChange","onReadAloudStatus","onSelectionDidChange","onSelectionWillChange","onTabOutOf","onUndoStateDidChange","onUndoStateWillChange","originValidator","plonkSound","readAloudHook","readOnly","registers","removeExtraneousParentheses","scriptDepth","sharedVirtualKeyboardTargetOrigin","smartFence","smartMode","smartSuperscript","soundsDirectory","speakHook","speechEngine","speechEngineRate","speechEngineVoice","strings","textToSpeechMarkup","textToSpeechRules","textToSpeechRulesOptions","useSharedVirtualKeyboard","virtualKeyboardContainer","virtualKeyboardLayout","virtualKeyboardMode","virtualKeyboardTheme","virtualKeyboardToggleGlyph","virtualKeyboardToolbar","virtualKeyboards"],f={onChange:"input",onInput:"input",onMathFieldFocus:"focus",onMathFieldBlur:"blur",onCommit:"change",onError:"math-error",onKeystroke:"keystroke",onModeChange:"mode-change",onMoveOutOf:"focus-out",onReadAloudStatus:"read-aloud-status",onSelectionWillChange:"selection-will-change",onUndoStateDidChange:"undo-state-did-change",onUndoStateWillChange:"undo-state-will-change",onVirtualKeyboardToggle:"virtual-keyboard-toggle"},v=Object.keys(f),m={className:"class",htmlFor:"for"};function b(e,n){var t=n.onContentWillChange,r=n.onContentDidChange,a=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(n,h),c=Object(o.useRef)(null),l=Object(o.useRef)(e||""),u=Object(o.useCallback)((function(n){var o=l.current!==e&&n.getCaretPoint&&n.getCaretPoint();o&&(c.current=o),t&&t(n)}),[t,e]),i=Object(o.useCallback)((function(e){c.current&&e.setCaretPoint(c.current.x,c.current.y),r&&r(e)}),[r]);return Object(o.useEffect)((function(){l.current=e||""}),[e]),d({},a,{onContentWillChange:u,onContentDidChange:i})}var C=r.a.forwardRef((function(e,n){var t=Object(o.useRef)(null);Object(o.useImperativeHandle)(n,(function(){return t.current}),[t]);var a=function(e,n){var t=Object(o.useMemo)((function(){return e.children?Object(s.renderToString)(e.children):e.value||""}),[e.children,e.value]);return Object(o.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.setValue(t)}),[t]),t}(e,t),c=Object(o.useMemo)((function(){return function(e){var n={},t={};for(var o in e){var a=m[o]||o,c=e[o];v.indexOf(a)>-1||(g.indexOf(a)>-1?((r.a.isValidElement(c)||c instanceof Array&&c.every(r.a.isValidElement))&&(c=Object(s.renderToString)(c)),n[a]=c):"value"!==a&&(t[a]=c))}return[n,t]}(e)}),[e]),l=c[0],u=c[1],d=b(a,l);return function(e,n){Object(o.useEffect)((function(){var t=e.current;if(t){var o=Object.keys(n).filter((function(e){return"function"===typeof n[e]&&v.indexOf(m[e]||e)>-1})).map((function(e){return{key:f[m[e]||e],fn:function(){n[e].apply(n,arguments)}}}));return o.forEach((function(e){var n=e.key,o=e.fn;t.addEventListener(n,o)})),function(){o.forEach((function(e){var n=e.key,o=e.fn;return t.removeEventListener(n,o)}))}}}),[e,n])}(t,e),function(e,n){var t=Object(o.useRef)(n);Object(o.useLayoutEffect)((function(){var o;i()(t.current,n)||(null===(o=e.current)||void 0===o||o.setOptions(n),t.current=n)}),[e,n,t]),Object(o.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.setOptions(n)}),[])}(t,d),r.a.createElement("math-field",Object.assign({},u,{onFocus:e.onFocus,onBlur:e.onBlur,onChange:void 0,ref:t}),a)})),p=r.a.memo((function(e){var n=Object(o.useRef)(null);return r.a.createElement(C,Object.assign({ref:n,onFocus:function(){var e;null===(e=n.current)||void 0===e||e.executeCommand("showVirtualKeyboard")},onBlur:function(){var e,t,o,r;console.log("caret",null===(e=n.current)||void 0===e?void 0:e.caretPoint),console.log("value",null===(t=n.current)||void 0===t?void 0:t.getValue("spoken"),null===(o=n.current)||void 0===o?void 0:o.getValue("latex")),null===(r=n.current)||void 0===r||r.executeCommand("hideVirtualKeyboard")},onChange:function(e){return console.log("onChange",e.nativeEvent)}},e))})),y=r.a.memo((function(e){var n=Object(o.useRef)(null);return r.a.createElement("div",{className:"inline"},r.a.createElement(C,Object.assign({onChange:function(e){return console.log("change",e.target)},className:"f1",ref:n,onBlur:function(){var e,t,o;console.log("caret",null===(e=n.current)||void 0===e?void 0:e.caretPoint),console.log("value",null===(t=n.current)||void 0===t?void 0:t.getValue("spoken"),null===(o=n.current)||void 0===o?void 0:o.getValue("latex"))}},e)),r.a.createElement("span",{onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.executeCommand("toggleVirtualKeyboard")},style:{width:"21px",marginTop:"4px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},r.a.createElement("path",{d:"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"}))))})),O=r.a.memo((function(e){var n=Object(o.useState)(e.value||"$$d=\\sqrt[]{x^2+y^2}$$"),t=Object(l.a)(n,2),a=t[0],c=t[1],u=Object(o.useCallback)((function(n){c(n.currentTarget.getValue()),e.onChange&&e.onChange(n)}),[e.onChange]),i=Object(o.useRef)(null);return Object(o.useEffect)((function(){console.log("ControlledMathView value changed",a)}),[a]),r.a.createElement(C,Object.assign({},e,{ref:i,onChange:u,value:a}))})),E=function(){var e=Object(o.useState)("\\beta"),n=Object(l.a)(e,2),t=n[0],a=n[1],c=Object(o.useState)("off"),u=Object(l.a)(c,2),i=u[0],s=u[1];return Object(o.useEffect)((function(){setTimeout((function(){a("a^2+b^2=c^2"),s("onfocus")}),3500)})),r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",right:0,margin:20}},r.a.createElement("iframe",{src:"https://ghbtns.com/github-btn.html?user=ShaMan123&repo=react-math-view&type=star&count=true&size=small",frameBorder:"0",scrolling:"0",width:"150",height:"30",title:"GitHub"}),r.a.createElement("iframe",{src:"https://ghbtns.com/github-btn.html?user=ShaMan123&repo=react-math-view&type=fork&count=true&size=small",frameBorder:"0",scrolling:"0",width:"150",height:"30",title:"GitHub"})),r.a.createElement(O,{virtualKeyboardMode:"onfocus",onKeystroke:function(e,n,t){return console.log("onKeystroke",{sender:e,key:n,event:t}),!0},onMoveOutOf:function(e,n){return console.log("onMoveOutOf",{sender:e,direction:n}),!0},onTabOutOf:function(e,n){return console.log("onTabOutOf",{sender:e,direction:n}),!1},onLoad:function(e){return console.log("onLoad",e)},onFocus:function(e){return console.log("onFocus",e)},onBlur:function(e){return console.log("onBlur",e)},onVirtualKeyboardToggle:function(e,n,t){return console.log("onVirtualKeyboardToggle",{sender:e,visible:n,keyboard:t})},onMathFieldFocus:function(e){return console.log("onMathFieldFocus",e)},onMathFieldBlur:function(e){return console.log("onMathFieldBlur",e)},onContentWillChange:function(e){return console.log("onContentWillChange",e)},onContentDidChange:function(e){return console.log("onContentDidChange",e)},onSelectionWillChange:function(e){return console.log("onSelectionWillChange",e)},onSelectionDidChange:function(e){return console.log("onSelectionDidChange",e)},onUndoStateWillChange:function(e,n){return console.log("onUndoStateWillChange",{target:e,action:n})},onUndoStateDidChange:function(e,n){return console.log("onUndoStateDidChange",{target:e,action:n})},onCommit:function(e){return console.log("onCommit",e)},onModeChange:function(e,n){return console.log("onModeChange",e,n)},onReadAloudStatus:function(e){return console.log("onReadAloudStatus",e)},onChange:function(e){return console.log("onChange",e.nativeEvent)},onInput:function(e){return console.log("onInput",e.nativeEvent)}},"\\alpha"),r.a.createElement(p,{value:t}),r.a.createElement(C,{virtualKeyboardMode:i,className:"red"},t),r.a.createElement("p",null,r.a.createElement(p,{style:{backgroundColor:"blueviolet"},value:"\\gamma"}),r.a.createElement(p,{value:"\\delta"})),r.a.createElement(y,null,"x=\\frac{-b\\pm\\sqrt{b ^ 2 - 4ac}}{2a}"),r.a.createElement("h3",null,"Controlled MathView"),r.a.createElement("h4",null,"Controlled MathView with Callback"),r.a.createElement(O,{virtualKeyboardMode:"onfocus",onCommit:function(e){return console.log("onCommit",e)}}),r.a.createElement("h4",null,"Controlled MathView ",r.a.createElement("strong",null,"without")," Callback"),r.a.createElement(O,{virtualKeyboardMode:i}),r.a.createElement("h5",null,"check the console for logs"))};c.a.render(r.a.createElement(E,null),document.getElementById("root"))},9:function(e,n,t){e.exports=t(21)}},[[9,1,2]]]);
//# sourceMappingURL=main.c43ed442.chunk.js.map