(this["webpackJsonpreact-math-view-example"]=this["webpackJsonpreact-math-view-example"]||[]).push([[0],{10:function(e,n,t){},21:function(e,n,t){"use strict";t.r(n);t(10);var o=t(0),a=t.n(o),r=t(7),c=t.n(r),l=t(1),u=(t(15),t(20),t(6)),i=t(8),s=t.n(i),d=["createHTML","customVirtualKeyboardLayers","customVirtualKeyboards","defaultMode","fontsDirectory","horizontalSpacingScale","ignoreSpacebarInMathMode","inlineShortcutTimeout","inlineShortcuts","keybindings","keypressSound","keypressVibration","letterShapeStyle","locale","macros","namespace","onBlur","onCommit","onContentDidChange","onContentWillChange","onError","onFocus","onKeystroke","onModeChange","onMoveOutOf","onReadAloudStatus","onSelectionDidChange","onSelectionWillChange","onTabOutOf","onUndoStateDidChange","onUndoStateWillChange","onVirtualKeyboardToggle","overrideDefaultInlineShortcuts","plonkSound","readAloudHook","readOnly","removeExtraneousParentheses","scriptDepth","smartFence","smartMode","smartSuperscript","speakHook","speechEngine","speechEngineRate","speechEngineVoice","strings","substituteTextArea","textToSpeechMarkup","textToSpeechRules","textToSpeechRulesOptions","virtualKeyboardLayout","virtualKeyboardMode","virtualKeyboardTheme","virtualKeyboardToggleGlyph","virtualKeyboards"],v={onChange:"input",onInput:"input",onMathFieldFocus:"focus",onMathFieldBlur:"blur",onCommit:"change",onError:"math-error",onKeystroke:"keystroke",onModeChange:"mode-change",onMoveOutOf:"focus-out",onReadAloudStatus:"read-aloud-status",onSelectionWillChange:"selection-will-change",onUndoStateDidChange:"undo-state-did-change",onUndoStateWillChange:"undo-state-will-change",onVirtualKeyboardToggle:"virtual-keyboard-toggle"},g=Object.keys(v),f={className:"class",htmlFor:"for"};var h=a.a.forwardRef((function(e,n){var t=Object(o.useRef)(null);Object(o.useImperativeHandle)(n,(function(){return t.current}),[t]);var r=Object(o.useMemo)((function(){return e.children?Object(u.renderToString)(e.children):e.value||""}),[e.children,e.value]),c=Object(o.useMemo)((function(){return function(e){var n={},t={};for(var o in e){var r=f[o]||o,c=e[o];g.indexOf(r)>-1||(d.indexOf(r)>-1?((a.a.isValidElement(c)||c instanceof Array&&c.every(a.a.isValidElement))&&(c=Object(u.renderToString)(c)),n[r]=c):t[r]=c)}return[n,t]}(e)}),[e]),l=c[0],i=c[1];return function(e,n){Object(o.useEffect)((function(){var t=e.current;if(t){var o=Object.keys(n).filter((function(e){return"function"===typeof n[e]&&g.indexOf(f[e]||e)>-1})).map((function(e){return{key:v[f[e]||e],fn:function(){n[e].apply(n,arguments)}}}));return o.forEach((function(e){var n=e.key,o=e.fn;t.addEventListener(n,o)})),function(){o.forEach((function(e){var n=e.key,o=e.fn;return t.removeEventListener(n,o)}))}}}),[e,n])}(t,e),function(e,n){var t=Object(o.useRef)(n);Object(o.useLayoutEffect)((function(){var o;s()(t.current,n)||(null===(o=e.current)||void 0===o||o.setOptions(n),t.current=n)}),[e,n,t]),Object(o.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.setOptions(n)}),[])}(t,l),Object(o.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.setValue(r)}),[r]),a.a.createElement("math-field",Object.assign({},i,{onFocus:e.onFocus,onBlur:e.onBlur,onChange:void 0,ref:t}),r)})),m=function(e){var n=Object(o.useRef)(null);return a.a.createElement(h,Object.assign({ref:n,onFocus:function(){var e;null===(e=n.current)||void 0===e||e.executeCommand("showVirtualKeyboard")},onBlur:function(){var e,t,o,a;console.log("caret",null===(e=n.current)||void 0===e?void 0:e.caretPoint),console.log("value",null===(t=n.current)||void 0===t?void 0:t.getValue("spoken"),null===(o=n.current)||void 0===o?void 0:o.getValue("latex")),null===(a=n.current)||void 0===a||a.executeCommand("hideVirtualKeyboard")},onChange:function(e){return console.log("onChange",e.nativeEvent)}},e))},b=function(e){var n=Object(o.useRef)(null);return a.a.createElement("div",{className:"inline"},a.a.createElement(h,Object.assign({onChange:function(e){return console.log("change",e.target)},className:"f1",ref:n,onBlur:function(){var e,t,o;console.log("caret",null===(e=n.current)||void 0===e?void 0:e.caretPoint),console.log("value",null===(t=n.current)||void 0===t?void 0:t.getValue("spoken"),null===(o=n.current)||void 0===o?void 0:o.getValue("latex"))}},e)),a.a.createElement("span",{onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.executeCommand("toggleVirtualKeyboard")},style:{width:"21px",marginTop:"4px"}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},a.a.createElement("path",{d:"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"}))))},C=function(e){var n=Object(o.useState)(e.value||"$$d=\\sqrt[]{x^2+y^2}$$"),t=Object(l.a)(n,2),r=t[0],c=t[1],u=Object(o.useCallback)((function(n){c(n.currentTarget.getValue()),e.onChange&&e.onChange(n)}),[e.onChange]),i=Object(o.useRef)(null);return Object(o.useEffect)((function(){console.log("ControlledMathView value changed",r)}),[r]),a.a.createElement(h,Object.assign({},e,{ref:i,value:r,onChange:u}))},p=function(e){var n=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e=setInterval((function(){var e;return null===(e=n.current)||void 0===e?void 0:e.setOptions({})}),1e3);return function(){return clearInterval(e)}})),a.a.createElement(h,Object.assign({},e,{ref:n}))},E=function(){var e=Object(o.useState)("\\beta"),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(o.useState)("off"),u=Object(l.a)(c,2),i=u[0],s=u[1];Object(o.useEffect)((function(){setTimeout((function(){r("a^2+b^2=c^2"),s("onfocus")}),1500)}));var d=Object(o.useState)(!0),v=Object(l.a)(d,2),g=v[0],f=v[1];return a.a.createElement("div",null,a.a.createElement(C,{virtualKeyboardMode:"onfocus",onKeystroke:function(e,n,t){return console.log("onKeystroke",{sender:e,key:n,event:t}),!0},onMoveOutOf:function(e,n){return console.log("onMoveOutOf",{sender:e,direction:n}),!0},onTabOutOf:function(e,n){return console.log("onTabOutOf",{sender:e,direction:n}),!1},onLoad:function(e){return console.log("onLoad",e)},onFocus:function(e){return console.log("onFocus",e)},onBlur:function(e){return console.log("onBlur",e)},onVirtualKeyboardToggle:function(e,n,t){return console.log("onVirtualKeyboardToggle",{sender:e,visible:n,keyboard:t})},onMathFieldFocus:function(e){return console.log("onMathFieldFocus",e)},onMathFieldBlur:function(e){return console.log("onMathFieldBlur",e)},onContentWillChange:function(e){return console.log("onContentWillChange",e)},onContentDidChange:function(e){return console.log("onContentDidChange",e)},onSelectionWillChange:function(e){return console.log("onSelectionWillChange",e)},onSelectionDidChange:function(e){return console.log("onSelectionDidChange",e)},onUndoStateWillChange:function(e,n){return console.log("onUndoStateWillChange",{target:e,action:n})},onUndoStateDidChange:function(e,n){return console.log("onUndoStateDidChange",{target:e,action:n})},onCommit:function(e){return console.log("onCommit",e)},onModeChange:function(e,n){return console.log("onModeChange",e,n)},onReadAloudStatus:function(e){return console.log("onReadAloudStatus",e)},onChange:function(e){return console.log("onChange",e.nativeEvent)},onInput:function(e){return console.log("onInput",e.nativeEvent)}},"\\alpha"),a.a.createElement(m,{value:t}),a.a.createElement(h,{virtualKeyboardMode:i,className:"red"},t),a.a.createElement("p",null,a.a.createElement(m,{style:{backgroundColor:"blueviolet"},value:"\\gamma"}),a.a.createElement(m,{value:"\\delta"})),a.a.createElement(b,null,"x=\\frac{-b\\pm\\sqrt{b ^ 2 - 4ac}}{2a}"),a.a.createElement("div",{style:{margin:50}},a.a.createElement("div",null,"ControlledMathView with Callback"),a.a.createElement(C,{virtualKeyboardMode:"onfocus",onCommit:function(e){return console.log("onCommit",e)}}),a.a.createElement("div",null,"ControlledMathView ",a.a.createElement("strong",null,"without")," Callback"),a.a.createElement(C,{virtualKeyboardMode:i}),a.a.createElement("strong",null,"check the console for logs")),a.a.createElement("div",null,a.a.createElement("div",null,"issue ",a.a.createElement("a",{href:"https://github.com/arnog/react-mathlive/issues/4",target:"_blank"},a.a.createElement("strong",null,"#4"))),a.a.createElement("label",{htmlFor:"@"},"toggle to test how caret is affected"),a.a.createElement("input",{id:"@",type:"checkbox",checked:g,onChange:function(e){return f(e.currentTarget.checked)}}),g?a.a.createElement(p,{value:t}):a.a.createElement(h,{value:t})))};c.a.render(a.a.createElement(E,null),document.getElementById("root"))},9:function(e,n,t){e.exports=t(21)}},[[9,1,2]]]);
//# sourceMappingURL=main.5f0293a7.chunk.js.map